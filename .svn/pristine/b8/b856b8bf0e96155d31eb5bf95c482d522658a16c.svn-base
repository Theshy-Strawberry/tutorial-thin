<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="/struts-html" prefix="html"%>
<%@ taglib uri="/struts-bean" prefix="bean"%>
<%@ taglib uri="/struts-logic" prefix="logic"%>
<%@ taglib uri="/terasoluna-struts" prefix="ts"%>
<%@ taglib uri="/terasoluna" prefix="t"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html:html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>年休修正</title>
<link rel="stylesheet" type="text/css" href="css/base.css" />
<link rel="stylesheet" type="text/css" href="css/main.css" />

<script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
<script type="text/javascript">
    $(function() {
        $('#left-container .content').hide();
        $('#Attendance').show();
        $('h2.tit').click(function() {
            $(this).next('.content').stop().slideToggle();

        })
 var total='<bean:write name="_JNTCIVocationForm" property="totalnianjia" />';


        $("#januaryChange").blur(function(){
           var x=parseInt(total);
     	   var januaryChange = parseInt($("#januaryChange").val());
     	   var februaryChange =parseInt($("#februaryChange").val());
     	   var marchChange = parseInt($("#marchChange").val());
     	   var aprilChange = parseInt($("#aprilChange").val());
     	   var mayChange = parseInt($("#mayChange").val());
     	   var juneChange = parseInt($("#juneChange").val());
     	   var julyChange = parseInt($("#julyChange").val());
     	   var augustChange =parseInt($("#augustChange").val());
     	   var septemberChange = parseInt($("#septemberChange").val());
     	   var octorberChange = parseInt($("#octorberChange").val());
     	   var novemberChange = parseInt($("#novemberChange").val());
     	   var decemberChange = parseInt($("#decemberChange").val());
     	   var leaveCount = x - (januaryChange+februaryChange+marchChange+aprilChange+mayChange+juneChange+julyChange+augustChange
     			   +septemberChange+octorberChange+novemberChange+decemberChange);
     	  $("#remainDaysSurplus").val(leaveCount);
        })


            $("#februaryChange").blur(function(){
            	  var x=parseInt(total);
         	   var januaryChange = parseInt($("#januaryChange").val());
         	   var februaryChange =parseInt($("#februaryChange").val());
         	   var marchChange = parseInt($("#marchChange").val());
         	   var aprilChange = parseInt($("#aprilChange").val());
         	   var mayChange = parseInt($("#mayChange").val());
         	   var juneChange = parseInt($("#juneChange").val());
         	   var julyChange = parseInt($("#julyChange").val());
         	   var augustChange =parseInt($("#augustChange").val());
         	   var septemberChange = parseInt($("#septemberChange").val());
         	   var octorberChange = parseInt($("#octorberChange").val());
         	   var novemberChange = parseInt($("#novemberChange").val());
         	   var decemberChange = parseInt($("#decemberChange").val());
         	   var leaveCount = x - (januaryChange+februaryChange+marchChange+aprilChange+mayChange+juneChange+julyChange+augustChange
         			   +septemberChange+octorberChange+novemberChange+decemberChange);
         	  $("#remainDaysSurplus").val(leaveCount);
            })

            $("#marchChange").blur(function(){
            	  var x=parseInt(total);
         	   var januaryChange = parseInt($("#januaryChange").val());
         	   var februaryChange =parseInt($("#februaryChange").val());
         	   var marchChange = parseInt($("#marchChange").val());
         	   var aprilChange = parseInt($("#aprilChange").val());
         	   var mayChange = parseInt($("#mayChange").val());
         	   var juneChange = parseInt($("#juneChange").val());
         	   var julyChange = parseInt($("#julyChange").val());
         	   var augustChange =parseInt($("#augustChange").val());
         	   var septemberChange = parseInt($("#septemberChange").val());
         	   var octorberChange = parseInt($("#octorberChange").val());
         	   var novemberChange = parseInt($("#novemberChange").val());
         	   var decemberChange = parseInt($("#decemberChange").val());
         	   var leaveCount = x - (januaryChange+februaryChange+marchChange+aprilChange+mayChange+juneChange+julyChange+augustChange
         			   +septemberChange+octorberChange+novemberChange+decemberChange);
         	  $("#remainDaysSurplus").val(leaveCount);
            })

            $("#aprilChange").blur(function(){
            	  var x=parseInt(total);
         	   var januaryChange = parseInt($("#januaryChange").val());
         	   var februaryChange =parseInt($("#februaryChange").val());
         	   var marchChange = parseInt($("#marchChange").val());
         	   var aprilChange = parseInt($("#aprilChange").val());
         	   var mayChange = parseInt($("#mayChange").val());
         	   var juneChange = parseInt($("#juneChange").val());
         	   var julyChange = parseInt($("#julyChange").val());
         	   var augustChange =parseInt($("#augustChange").val());
         	   var septemberChange = parseInt($("#septemberChange").val());
         	   var octorberChange = parseInt($("#octorberChange").val());
         	   var novemberChange = parseInt($("#novemberChange").val());
         	   var decemberChange = parseInt($("#decemberChange").val());
         	   var leaveCount = x - (januaryChange+februaryChange+marchChange+aprilChange+mayChange+juneChange+julyChange+augustChange
         			   +septemberChange+octorberChange+novemberChange+decemberChange);
         	  $("#remainDaysSurplus").val(leaveCount);
            })


            $("#mayChange").blur(function(){
               var x=parseInt(total);
         	   var januaryChange = parseInt($("#januaryChange").val());
         	   var februaryChange =parseInt($("#februaryChange").val());
         	   var marchChange = parseInt($("#marchChange").val());
         	   var aprilChange = parseInt($("#aprilChange").val());
         	   var mayChange = parseInt($("#mayChange").val());
         	   var juneChange = parseInt($("#juneChange").val());
         	   var julyChange = parseInt($("#julyChange").val());
         	   var augustChange =parseInt($("#augustChange").val());
         	   var septemberChange = parseInt($("#septemberChange").val());
         	   var octorberChange = parseInt($("#octorberChange").val());
         	   var novemberChange = parseInt($("#novemberChange").val());
         	   var decemberChange = parseInt($("#decemberChange").val());
         	   var leaveCount = x - (januaryChange+februaryChange+marchChange+aprilChange+mayChange+juneChange+julyChange+augustChange
         			   +septemberChange+octorberChange+novemberChange+decemberChange);
         	  $("#remainDaysSurplus").val(leaveCount);
            })


            $("#juneChange").blur(function(){
            	  var x=parseInt(total);
         	   var januaryChange = parseInt($("#januaryChange").val());
         	   var februaryChange =parseInt($("#februaryChange").val());
         	   var marchChange = parseInt($("#marchChange").val());
         	   var aprilChange = parseInt($("#aprilChange").val());
         	   var mayChange = parseInt($("#mayChange").val());
         	   var juneChange = parseInt($("#juneChange").val());
         	   var julyChange = parseInt($("#julyChange").val());
         	   var augustChange =parseInt($("#augustChange").val());
         	   var septemberChange = parseInt($("#septemberChange").val());
         	   var octorberChange = parseInt($("#octorberChange").val());
         	   var novemberChange = parseInt($("#novemberChange").val());
         	   var decemberChange = parseInt($("#decemberChange").val());
         	   var leaveCount = x - (januaryChange+februaryChange+marchChange+aprilChange+mayChange+juneChange+julyChange+augustChange
         			   +septemberChange+octorberChange+novemberChange+decemberChange);
         	  $("#remainDaysSurplus").val(leaveCount);
            })



            $("#julyChange").blur(function(){
            	  var x=parseInt(total);
         	   var januaryChange = parseInt($("#januaryChange").val());
         	   var februaryChange =parseInt($("#februaryChange").val());
         	   var marchChange = parseInt($("#marchChange").val());
         	   var aprilChange = parseInt($("#aprilChange").val());
         	   var mayChange = parseInt($("#mayChange").val());
         	   var juneChange = parseInt($("#juneChange").val());
         	   var julyChange = parseInt($("#julyChange").val());
         	   var augustChange =parseInt($("#augustChange").val());
         	   var septemberChange = parseInt($("#septemberChange").val());
         	   var octorberChange = parseInt($("#octorberChange").val());
         	   var novemberChange = parseInt($("#novemberChange").val());
         	   var decemberChange = parseInt($("#decemberChange").val());
         	   var leaveCount = x - (januaryChange+februaryChange+marchChange+aprilChange+mayChange+juneChange+julyChange+augustChange
         			   +septemberChange+octorberChange+novemberChange+decemberChange);
         	  $("#remainDaysSurplus").val(leaveCount);
            })

            $("#augustChange").blur(function(){
            	  var x=parseInt(total);
         	   var januaryChange = parseInt($("#januaryChange").val());
         	   var februaryChange =parseInt($("#februaryChange").val());
         	   var marchChange = parseInt($("#marchChange").val());
         	   var aprilChange = parseInt($("#aprilChange").val());
         	   var mayChange = parseInt($("#mayChange").val());
         	   var juneChange = parseInt($("#juneChange").val());
         	   var julyChange = parseInt($("#julyChange").val());
         	   var augustChange =parseInt($("#augustChange").val());
         	   var septemberChange = parseInt($("#septemberChange").val());
         	   var octorberChange = parseInt($("#octorberChange").val());
         	   var novemberChange = parseInt($("#novemberChange").val());
         	   var decemberChange = parseInt($("#decemberChange").val());
         	   var leaveCount = x - (januaryChange+februaryChange+marchChange+aprilChange+mayChange+juneChange+julyChange+augustChange
         			   +septemberChange+octorberChange+novemberChange+decemberChange);
         	  $("#remainDaysSurplus").val(leaveCount);
            })

            $("#septemberChange").blur(function(){
            	  var x=parseInt(total);
         	   var januaryChange = parseInt($("#januaryChange").val());
         	   var februaryChange =parseInt($("#februaryChange").val());
         	   var marchChange = parseInt($("#marchChange").val());
         	   var aprilChange = parseInt($("#aprilChange").val());
         	   var mayChange = parseInt($("#mayChange").val());
         	   var juneChange = parseInt($("#juneChange").val());
         	   var julyChange = parseInt($("#julyChange").val());
         	   var augustChange =parseInt($("#augustChange").val());
         	   var septemberChange = parseInt($("#septemberChange").val());
         	   var octorberChange = parseInt($("#octorberChange").val());
         	   var novemberChange = parseInt($("#novemberChange").val());
         	   var decemberChange = parseInt($("#decemberChange").val());
         	   var leaveCount = x - (januaryChange+februaryChange+marchChange+aprilChange+mayChange+juneChange+julyChange+augustChange
         			   +septemberChange+octorberChange+novemberChange+decemberChange);
         	  $("#remainDaysSurplus").val(leaveCount);
            })

            $("#octorberChange").blur(function(){
            	  var x=parseInt(total);
         	   var januaryChange = parseInt($("#januaryChange").val());
         	   var februaryChange =parseInt($("#februaryChange").val());
         	   var marchChange = parseInt($("#marchChange").val());
         	   var aprilChange = parseInt($("#aprilChange").val());
         	   var mayChange = parseInt($("#mayChange").val());
         	   var juneChange = parseInt($("#juneChange").val());
         	   var julyChange = parseInt($("#julyChange").val());
         	   var augustChange =parseInt($("#augustChange").val());
         	   var septemberChange = parseInt($("#septemberChange").val());
         	   var octorberChange = parseInt($("#octorberChange").val());
         	   var novemberChange = parseInt($("#novemberChange").val());
         	   var decemberChange = parseInt($("#decemberChange").val());
         	   var leaveCount = x - (januaryChange+februaryChange+marchChange+aprilChange+mayChange+juneChange+julyChange+augustChange
         			   +septemberChange+octorberChange+novemberChange+decemberChange);
         	  $("#remainDaysSurplus").val(leaveCount);
            })

            $("#novemberChange").blur(function(){
            	  var x=parseInt(total);
         	   var januaryChange = parseInt($("#januaryChange").val());
         	   var februaryChange =parseInt($("#februaryChange").val());
         	   var marchChange = parseInt($("#marchChange").val());
         	   var aprilChange = parseInt($("#aprilChange").val());
         	   var mayChange = parseInt($("#mayChange").val());
         	   var juneChange = parseInt($("#juneChange").val());
         	   var julyChange = parseInt($("#julyChange").val());
         	   var augustChange =parseInt($("#augustChange").val());
         	   var septemberChange = parseInt($("#septemberChange").val());
         	   var octorberChange = parseInt($("#octorberChange").val());
         	   var novemberChange = parseInt($("#novemberChange").val());
         	   var decemberChange = parseInt($("#decemberChange").val());
         	   var leaveCount = x - (januaryChange+februaryChange+marchChange+aprilChange+mayChange+juneChange+julyChange+augustChange
         			   +septemberChange+octorberChange+novemberChange+decemberChange);
         	  $("#remainDaysSurplus").val(leaveCount);
            })


            $("#decemberChange").blur(function(){
            	  var x=parseInt(total);
         	   var januaryChange = parseInt($("#januaryChange").val());
         	   var februaryChange =parseInt($("#februaryChange").val());
         	   var marchChange = parseInt($("#marchChange").val());
         	   var aprilChange = parseInt($("#aprilChange").val());
         	   var mayChange = parseInt($("#mayChange").val());
         	   var juneChange = parseInt($("#juneChange").val());
         	   var julyChange = parseInt($("#julyChange").val());
         	   var augustChange =parseInt($("#augustChange").val());
         	   var septemberChange = parseInt($("#septemberChange").val());
         	   var octorberChange = parseInt($("#octorberChange").val());
         	   var novemberChange = parseInt($("#novemberChange").val());
         	   var decemberChange = parseInt($("#decemberChange").val());
         	   var leaveCount = x - (januaryChange+februaryChange+marchChange+aprilChange+mayChange+juneChange+julyChange+augustChange
         			   +septemberChange+octorberChange+novemberChange+decemberChange);
         	  $("#remainDaysSurplus").val(leaveCount);
            })
         })
</script>
<script type="text/javascript">
 function subimit() {


	 $("#userId").val("qa");
	$("#formid").submit();
}
 function onSubimitfun(){
	var a=$("#januaryChange").val();
	var b=$("#februaryChange").val();
	var c=$("#marchChange").val();
	var d=$("#aprilChange").val();
	var e=$("#mayChange").val();
	var f=$("#juneChange").val();
	var g=$("#julyChange").val();
	var h=$("#augustChange").val();
	var i=$("#septemberChange").val();
	var j=$("#octorberChange").val();
	var k=$("#novemberChange").val();
	var l=$("#decemberChange").val();
	var reg=/^(0|[1-9]\d*)(\.\d+)?$/;
	var oValue=$("#remainDaysSurplus").val();
    if(((! reg.test(oValue)) || !reg.test(a)) || (!reg.test(b)) || (!reg.test(c)) || (!reg.test(d)) || (!reg.test(e)) || (!reg.test(f)) || (!reg.test(g)) || (!reg.test(h))
    		|| (!reg.test(i)) || (!reg.test(j)) || (!reg.test(k)) || (!reg.test(l))){
    	 $("#timeCheck11").text("只能输入数字和小数点，不能输入负数和字符");
    	//alert("请输入正确的数字格式！");
    	return false;
    }else{
    	$("#formid").submit();
    	return  true;
    }

}
</script>
</head>
<body>
    <div>
        <jsp:include page="/top.jsp" flush="true" />
    </div>
    <!--/头部分 -->
    <div class="clearfix" style="position: relative;">
        <!--左侧部分 -->
        <div style="position: absolute;">
            <jsp:include page="/left.jsp" flush="true" />
        </div>
        <!--/左侧部分 -->
        <!--右侧部分 -->
        <div class="rightWidht">
            <div class="header">
                <ul class="breadcrumbs clearfix">
                    <li>ステップチャート：</li>
                    <li><a href="#">勤務管理</a></li>
                    <li class="ico">&gt;</li>
                    <li><a href="#">年休修正</a></li>
                </ul>
            </div>
            <div class="main-ctn"  style="max-height: 100px; overflow: auto;">
                    <label id="timeCheck11"  style=" width:400px;color: red"></label>
            </div>
            <%-- <div class="main-ctn"
                style="max-height: 100px; overflow: auto;">
                <html:errors />
                <html:messages id="message" message="true">
                    <bean:write name="message" />
                </html:messages>
            </div> --%>
            <div class="main-ctn">
                <table width="90%">
                    <caption>社員休暇修正</caption>
                    <tr>
                        <th style="width: 100px">社員カード</th>
                        <th>社員名前</th>
                        <th>性別</th>
                        <th>部門所属</th>
                        <th>剩余年休時間(修正前)</th>
                        <th>剩余年休時間(修正後)</th>
                    </tr>
                    <ts:form action="/revocationUpdate" styleId="formid">
                        <tr>
                            <td align="center"><bean:write
                                    name="_JNTCIVocationForm"
                                    property="userId" />
                                    <html:hidden styleId="userId"  property="userId" name="_JNTCIVocationForm"/>
                                    </td>
                            <td><bean:write
                                    name="_JNTCIVocationForm"
                                    property="userName" />
                                    </td>
                            <td align="center"><bean:write
                                    name="_JNTCIVocationForm"
                                    property="userSex" />
                                    </td>
                            <td><bean:write
                                    name="_JNTCIVocationForm"
                                    property="deptId" />
                                   </td>
                            <td><bean:write
                                    name="_JNTCIVocationForm"
                                    property="remainDays" />
                               </td>
                            <td><html:text
                                    name="_JNTCIVocationForm" styleId="remainDaysSurplus"
                                    property="remainDays" />
                                     <html:hidden styleId="remainDaysSurplus1"  property="remainDays" name="_JNTCIVocationForm"/>
                                    </td>
                        </tr>
                        <tr>
                            <td colspan=" 2 ">一月</td>
                            <td colspan=" 2 ">二月</td>
                            <td colspan=" 2 ">三月</td>
                        </tr>
                        <tr>
                            <td>修正前<bean:write
                                    name="_JNTCIVocationForm"
                                    property="january" /></td>
                            <td>修正後<html:text
                                    name="_JNTCIVocationForm" styleId="januaryChange"
                                    property="january" /></td>
                            <td>修正前<bean:write
                                    name="_JNTCIVocationForm"
                                    property="february" /></td>
                            <td>修正後 <html:text
                                    name="_JNTCIVocationForm"  styleId="februaryChange"
                                    property="february" /></td>
                            <td>修正前<bean:write
                                    name="_JNTCIVocationForm"
                                    property="march" /></td>
                            <td>修正後<html:text
                                    name="_JNTCIVocationForm"  styleId="marchChange"
                                    property="march" /></td>
                        </tr>
                        <tr>
                            <td colspan=" 2 ">四月</td>
                            <td colspan=" 2 ">五月</td>
                            <td colspan=" 2 ">六月</td>
                        </tr>
                        <tr>
                            <td>修正前<bean:write
                                    name="_JNTCIVocationForm"
                                    property="april" /></td>
                            <td>修正後<html:text
                                    name="_JNTCIVocationForm"  styleId="aprilChange"
                                    property="april" /></td>
                            <td>修正前<bean:write
                                    name="_JNTCIVocationForm"
                                    property="may" /></td>
                            <td>修正後 <html:text
                                    name="_JNTCIVocationForm" styleId="mayChange"
                                    property="may" /></td>
                            <td>修正前<bean:write
                                    name="_JNTCIVocationForm"
                                    property="june" /></td>
                            <td>修正後<html:text
                                    name="_JNTCIVocationForm" styleId="juneChange"
                                    property="june" /></td>
                        </tr>
                        <tr>
                            <td colspan=" 2 ">七月</td>
                            <td colspan=" 2 ">八月</td>
                            <td colspan=" 2 ">九月</td>
                        </tr>
                        <tr>
                            <td>修正前<bean:write
                                    name="_JNTCIVocationForm"
                                    property="july" /></td>
                            <td>修正後<html:text
                                    name="_JNTCIVocationForm" styleId="julyChange"
                                    property="july" /></td>
                            <td>修正前<bean:write
                                    name="_JNTCIVocationForm"
                                    property="august" /></td>
                            <td>修正後 <html:text
                                    name="_JNTCIVocationForm" styleId="augustChange"
                                    property="august" /></td>
                            <td>修正前<bean:write
                                    name="_JNTCIVocationForm"
                                    property="september" /></td>
                            <td>修正後<html:text
                                    name="_JNTCIVocationForm" styleId="septemberChange"
                                    property="september" /></td>
                        </tr>
                        <tr>
                            <td colspan=" 2 ">十月</td>
                            <td colspan=" 2 ">十一月</td>
                            <td colspan=" 2 ">十二月</td>
                        </tr>
                        <tr>
                            <td>修正前<bean:write
                                    name="_JNTCIVocationForm"
                                    property="octorber" /></td>
                            <td>修正後<html:text
                                    name="_JNTCIVocationForm" styleId="octorberChange"
                                    property="octorber" /></td>
                            <td>修正前<bean:write
                                    name="_JNTCIVocationForm"
                                    property="november" /></td>
                            <td>修正後 <html:text
                                    name="_JNTCIVocationForm" styleId="novemberChange"
                                    property="november" /></td>
                            <td>修正前<bean:write
                                    name="_JNTCIVocationForm"
                                    property="december" /></td>
                            <td>修正後<html:text
                                    name="_JNTCIVocationForm" styleId="decemberChange"
                                    property="december" /></td>
                        </tr>
                        <tr>
                            <td><input type="submit"
                                class="btn btn-red" value="確認"  onclick="return onSubimitfun()" /> </td>
                            <td>
                                <html:hidden styleId="startIndex"  property="startIndex" name="_JNTCIVocationForm"/>
                                <html:hidden  styleId="userSelectId"  property="userSelectId" name="_JNTCIVocationForm"/>
                                <html:hidden styleId="usernameSelect" property="usernameSelect" name="_JNTCIVocationForm"/>
	                            <html:hidden  styleId="deptId1" property="deptId1" name="_JNTCIVocationForm"/>
	                            <input  id="getback"  name="戻る" type="button" class="btn btn-green" value="戻る" onclick="subimit()" />
                            </td>
                        </tr>
                    </ts:form>
                </table>

                <div class="footer">
                    <p>
                        連絡メール：<a href="mailto:jinan@trans-cosmos.com.cn"
                            target="_blank">jinan@trans-cosmos.com.cn</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

</body>
</html:html>